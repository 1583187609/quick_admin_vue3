# 任务清单列表

::: tips 注意事项  
已实现的功能大都没记录在下方列表中。以下清单是为了记录平时开发中临时发现（或想到的）的 bug、优化、功能点等。正持续完善中……  
:::

## 在线访问地址： https://fanlichuan.gitee.io/management/vue/#/login

## 一、功能清单

~~2、KeepAlive 完善缓存功能~~  
~~4、搜索菜单栏~~  
~~6、同页面不同 id 的缓存~~  
~~7、菜单权限分配页面&逻辑完善~~  
~~3、完善 mock 真实性~~  
~~4、完善组件属性全继承~~  
~~6、完成导入 Excel 功能（联调 Mockk）~~  
~~7、dialog 弹出层中 Modal 可拖动~~  
~~1、年龄区间表单控件：除了支持区间数组，还要支持传入两个字段~~  
~~3、BaseCrud 行拖动排序功能~~  
~~5、不退出直接点击按钮刷新整个系统~~  
~~1、基础路径等环境差异的文件配置在环境文件里，即完善根目录下的 env 文件~~  
~~3、新增、编辑菜单，表格列表更新一次之后，会整个页面重新刷新再更新一次优化处理（会有闪屏现象）~~  
~~4、用可写的计算属性来优化一些基础组件的逻辑~~  
~~5、打开 Eslint ts 类型处理~~  
~~6、统一为表单输入框添加 v-model.trim 修饰~~  
~~7、考虑看看能不能用 watchEffect 优化 watch~~  
~~9、添加左侧一、二级菜单、并实现可折叠功能（带动效）~~  
~~10、配置只允许 pnpm 安装~~  
~~9、hooks 全都采用 use 开头~~  
~~10、路由动画待完善~~  
~~11、三级路由缓存问题（降维成二级再进行处理）~~  
~~11、完善 Error.vue 的状态传参使用场景~~  
~~12、未授权跳转登录页，登录成功后重定向处理~~  
~~16、查询条件日期支持数组和两个字段~~  
17、openPopup component 解析 v-model  
18、编辑时，如果未保存就关闭弹窗，给出提示还未保存，确认关闭？（统一处理），还有未作任何改动时前端统一提示未作任何修改  
19、完善列设置是否显示对应列的功能  
20、利用 color-scheme 设置夜间模式  
21、用 TS 的 enum 类型替代 map 对象  
22、文件目录结构改为 monorepo 式  
~~23、BaseCrud 操作栏列：groupBtns 有值（有按钮）时才显示操作栏，反之不显示~~  
~~24、用文件夹形式优化代码结构（ts 类型和页面文件代码分开）~~  
~~1、根据文件路径自动生成路由~~  
~~2、刷新之后菜单状态保留~~  
~~3、角色管理、权限控制逻辑完善~~  
4、自动化路由 vue-auto-routing(貌似只适用于 Vue2)  
~~5、Eolink 接口自动化工具~~  
~~6、传递 vue 组件（https://cn.vuejs.org/api/render-function.html#resolvecomponent）~~  
7、Vue 组件深入极致优化  
~~8、路由信息根据后端菜单数据动态生成~~  
~~9、登录 md5 加密~~  
10、账号管理-详情 点击驳回对话框，确认，取消事件绑定不上。  
12、添加 batch 按钮及其子按钮  
15、完善换肤主题样式  
16、自动跳转至 403, 500 页面处理  
17、vue3 封装敏感词、错别字检查的 WangEditor 组件  
19、BaseCurd 打印功能  
20、配置表单的显示列  
~~10、自动判断是否出现了省略号，封装 hooks~~  
~~11、vite 全局注入 log，无需引入 log~~  
~~12、研究 ts、eslint 配置~~  
~~13、借鉴 Vue3 后台管理模板，完善本后台内容，可借鉴 Geeker admin~~  
~~14、常用自定义指令封装~~  
~~15、请求接口数据定义路由 title~~  
~~16、menu 键值对转化配置~~  
~~17、动态路由和权限问题处理：https://blog.csdn.net/m0_57071129/article/details/123770656~~  
~~角色类型：开发者、面试官、超级管理员、普通管理员、游客~~  
~~18、缺省页优化~~  
~~19、动态路由，页面刷新之后，404 问题~~  
~~20、Eolink 接口自动化：https://juejin.cn/post/7129386886446972965~~  
~~21、https 重复提交拦截处理(并不推荐这样使用)~~  
~~22、换用 vite mock~~  
~~23、ts 类型优化~~  
24、增加批量操作按钮，并完善功能  
25、增加个性化工作台可以拖动改变布局甚至大小处理功能（拖拽组件，可拖动的工作台）  
~~27、完善 KeepAlive 缓存~~  
28、完善滚动触顶触底加载 demo 示例  
~~29、某些页面的 ts 类型错误，需要统一处理~~  
~~31、完善 menuStore，userStore，均采用 pinia 实现~~  
~~32、退出登录后再进入时，进入到上次的页面~~  
~~33、打包优化研究~~  
~~34、关于系统弹窗中的内容（右上角头像->关于系统）在开发环境中有，在生产环境中没有了~~  
~~35、给菜单栏标题增加徽章 number，支持动态设置数值~~  
36、进行排序 hooks 封装；并优化点击重置之后，排序参数已重置，但是排序三角形图标仍然高亮的问题  
37、每次打开或新进入一个表单时，默认让第一个表单项聚焦  
~~38、让每一个表单按 enter 键，都能触发提交事件~~  
~~39、参照公司后台完善菜单权限页面~~  
~~40、国际化~~  
~~41、引导页~~  
~~43、数据大屏优化~~  
~~44、菜单及其结构调整~~  
45、尝试借助 yaml 根据文件目录结构自动生成路由  
~~46、工程化配置：eslint、prettier、git husk~~  
~~47、把用户管理挪到系统管理下面：做 menus 层级拉平成两级处理~~  
~~48、表格拖动排序功能实现~~  
~~49、keepAlive 路由缓存、移除缓存功能暂未完善~~  
50、打包配置，设置开关，让生产环境不包含 mock 数据文件  
~~51、处理菜单跳转内链问题~~  
~~52、完善系统管理 -> 字典管理~~  
~~53、树形筛选器组件封装~~  
~~54、增加文档链接、个人博客链接~~  
55、给 Quick Admin 找个合适的图标：在线生成网址：https://www.x-design.com/logo-design/?channel=sllbd336&bd_vid=10705723341415589721  
56、借助文件指令优化打包速度（使得不用每次都生成一大堆文件指令改变了的新文件）  
57、给 BaseCrud 导入/导出按钮添加 customRules 自定义规则功能并自测  
58、进入某个页面没有权限时，跳转到没有权限页面  
59、写 Gis 示例  
~~60、写大屏示例~~  
61、给 BaseForm、SectionForm 初始加载时添加骨架屏  
62、全局错误拦截，在 App.vue 中处理  
63、拖拽基础组件生成页面  
64、封装 TreeCrud 组件  
65、完善浏览器页签通信 hooks 封装（useBroadcastChannel）  
~~66、让 select，cascader 的 options 可以传入 name 名称实现下拉项的正常渲染展示~~  
67、完善 CellTable 组件

## 二、优化清单

~~1、优化 App.vue 中的全局弹窗~~  
~~2、登录页面 code 错误时，BaseForm 的 loading 状态处理，考虑采用 fetch 方式进行整理~~  
~~3、去掉 BaseCrud 的 onTableChange 事件~~  
4、处理 Echarts 警告：DEPRECATED: label.emphasis has been changed to emphasis.label since 4.0  
5、BaseFormItem type==='empty' 相关逻辑完善  
~~6、ExtraBtn 按钮加载渲染时很慢，大概延迟了 0.5s 才渲染出来~~  
~~7、BaseCrud 组件的加载渲染优化~~  
~~6、删除 file-saver 包~~  
~~9、登录页面按 Enter 键时实现登录~~  
~~10、echarts 按需加载~~  
~~11、传入对象优化 onGroupBtn 和 onExtraBtn~~  
~~12、解决 开发环境中 mock 下的图片警告路径的问题~~  
~~13、统一 package.name 和 全局变量 VITE_APP_NAME，都统一使用 VITE_APP_NAME~~  
~~14、优化水印会加深的问题~~  
15、测试三页面选择多标签时，自动根据宽度，控制是否显示+1 图标  
16、完善 small 之后的 compact 的样式及统一调整；  
17、将 Echarts 的配置纳入到 config 中  
18、将 WangEditor 的配置纳入到 config 中  
~~19、popover 自定义~~  
~~20、popconfirm 自定义（貌似不能自定义 title 的内容，因为没提供这个插槽）~~  
~~21、24 小时不登录，则强制重新登录~~  
~~22、登录进去后会出现两个首页 Tag 标签。~~  
~~24、ElementPlus 提示条如果提示同样内容，则做防抖处理~~  
~~25、表单高度过高，点击提交，校验未通过时，自动定位到未校验通过的字段位置处。~~  
~~16、登录页不应该出现水印，且多次登录/出操作，水印不应该逐渐加深。~~  
~~18、打包配置、分包优化；按需加载（例：wangEditor、echarts）降低首屏白屏时间；~~  
~~19、请求失败尝试重新请求，最多三次~~  
~~20、公共库（vue、echarts 等）使用 CDN~~  
21、用上之前内江市国资委系统的皮肤  
~~22、顶部添加路由进度条~~  
~~23、当屏幕宽度较小时，会出现双层滚动条（为复现）~~  
24、Ts 类型命名优化，尽可能复用使用 UI 框架的 Ts 类型  
~~25、当打开外链时，若浏览器已打开，则不要新建窗口打开逻辑处理；~~  
26、点击导入按钮，弹出的弹窗使用动态引入并解析该弹出层组件  
~~27、全局 drawer、modal 区分关闭之后是否销毁弹出层~~  
28、看浏览器面板，做好细致性能分析  
29、大屏数据页面用统一的基础 Echarts 组件  
30、BaseForm 中 addDel 类型的组件，点击右侧加号之后，默认让第一个元素聚焦  
31、Eslint 优化处理  
32、无码、低码开发  
~~33、联调时后端未返回此字段作标记处理~~  
34、通过外链打开新标签页面时，没有页签图标显示  
35、处理测试专用 BaseCrud 中，label 为自定义组件时，控制台提示 `using `shallowRef`instead of`ref`` 警告的问题  
36、将{component: '' }的组件渲染方式统一改成 h 函数渲染（处理/test/1 页面中的 slots 和 popover 不能用 h 函数写的问题）  
37、全局 Loading 中增加取消请求按钮，并实现取消请求逻辑  
38、全局 Ts 命名语义化，从 UI 库中继承，从当前工程定义好的基础类型继承  
39、大屏页面的 Echarts 基础组件统一处理  
~~40、国际化处理的配置文件（languages）应该分别放在各个模块下方~~  
41、layout 系统设置的国际化语言的 bug 处理  
42、研究能被 img 标签 src 属性识别的 svg 配置

## 三、Bug 清单

~~1、登录页点击免费注册和找回密码，direction 会复用（未重置对象引用地址）~~  
~~1、页面标签 404 处理~~  
~~2、route-tags 右键禁用项、按钮事件重构；多个不同的标签右键，出现多个右键菜单的问题处理；~~  
~~3、完善 openDialog、openDrawer~~  
~~layout header 菜单自适应；~~  
~~4、缩放屏幕时，表格宽度自适应，~~  
~~5、增删改查表格操作列右放置，选择列左放置~~  
~~6、导航 tag 关闭之后，将左右视情况按钮禁用，貌似不生效~~  
~~7、关于系统信息：开发者信息透露，给面试官看，增加面试机会~~  
~~8、增删改查组件序号、批量选择~~  
~~9、BaseBtn 按钮大小处理，有弹出框的~~  
~~11、操作栏按钮进一步优化处理~~  
~~12、表格过宽问题处理~~  
~~13、添加导出功能~~  
~~14、BaseGroupBtns 的弹窗功能~~  
~~15、导入~~  
~~16、表格添加汇总栏~~  
~~17、输入框类型校验：密码（确认密码）、手机号~~  
~~18、给不同的操作按钮上不同的颜色~~  
~~20、BaseCrud 的额外按钮添加是否删除所有？请选择数据？等提示~~  
~~21、BaseCrud 中 switch 的值切换不动~~  
22、子级、父级表单的部分或整体属性控制（仍需进一步完善）  
~~23、BaseCrud 组件换用 BaseExtraBtns 组件（extraBtns 按钮写入文字未替换成功）~~  
~~23、表格汇总功能完善~~  
~~24、BaseCrud 出现滚动条时，表头固定~~  
~~25、表格全选所有或全不选的功能~~  
~~27、env 环境文件配置~~  
~~28、vite 全局变量 VUE_APP_NAME 配置~~  
~~29、表单防重复提交处理~~  
30、图片上传组件处理（并实现默认本地上传并展示出来）  
~~31、Drawer 的 header 的 margin-bottom 改为 0~~  
~~32、Table 组件的表头增加背景色~~  
~~33、vue 动态组件加载优化；~~  
34、vue 动态与非动态路由加载优化；  
~~35、基础组件逻辑优化~~  
~~36、Echarts 基础图表组件常用参数配置~~  
~~37、日期组件数组转成两个子字段~~  
~~38、提取项目通用的 hooks 或代码片段，比如 loginIn、loginOut 之类的~~  
~~39、将 regexp.ts 提到 config 文件夹下~~  
~~40、相对路径的引用 ts 报错~~  
~~41、表格组件默认值处理~~  
~~42、GroupBtns 按钮三元表达式不生效处理~~  
~~43、封装地址组件（省市区+详细地址）~~  
~~44、后台管理采用动态路由刷新页面会出现 404 页面处理~~  
~~45、自动导入图片脚本执行~~  
~~46、表单默认值处理~~  
47、BaseFormItem 为 date-picker，type 为 daterange 时，设置默认值 value: ["2023-02-08", "2023-02-09"], 会引发报错  
~~48、优化 vue3 中使用了过多的 watch~~  
~~49、接口自动化添加默认值~~  
~~50、APP_NAME~~  
~~51、按钮权限问题处理~~  
~~52、列设置点击列名的开关按钮，对应表格会出现多个选择、排序、序号栏目~~  
~~54、cascader 的 placeholder 只显示了 '请选择三个字'~~  
~~55、Excel 导出时，如果有多条数据，则数据不会换行~~  
~~56、打包后 Mock 生效后，工作台页面成 404 了问题解决~~  
~~57、列表页多选选择不了~~  
~~58、看情况要不要添加只允许 pnpm 安装包，添加命令："preinstall": "npx only-allow pnpm"~~  
59、右上角头像 - 个人资料 - 点击编辑按钮 - 再点击查看按钮（不能回到有编辑按钮的页面了）  
60、右上角头像 - 个人资料 - 点击编辑按钮 - 上方的头像的删除图标被挡住了  
61、BaseForm 的 @change 事件对 input 未生效，上级菜单选中后，也未触发 change 事件（系统管理 -> 菜单管理）；顺便让初始时候不要触发 change 事件  
~~62、从统计数据 -> 统计分析页面退出登录后，再次登录进入不是统计分析页面，而是数据概览页面~~  
~~63、测试专用 - 测试 10 页面出现警告提示：该页面组件未设置组件名，会导致缓存失效，请检查~~  
~~63、处理 nprogress 进度条加载到最后不会消失的 bug~~  
~~64、处理打包分析页面线上环境 404 的 bug；处理内嵌弹性布局基础类页面白屏的 bug；~~  
65、处理 BaseCrud 中，刚初始加载页面时： 当 BaseNumberRange 设有默认值时，会触发两次搜索（在测试 3 页面复现）  
66、点击学校公司下拉项获取焦点时，会触发 crud 列表的请求 && 同时刚加载页面时，会连续触发两次请求（在测试 3 页面复现）  
67、处理 AddDelList 中，初始为一行，然后新增了 n 项后，然后点击重置按钮，并没有回到最初一行的状态的 bug  
68、处理系统设置-> 选择非默认的布局风格 -> 点击恢复默认设置按钮 -> 布局风格选中为默认值了，但是左侧的页面并没有恢复到默认布局的 bug  
~~69、http 请求封装增加取消请求功能~~  
70、工程量大了后，全局字典，以及命名是否会重复的优化处理手段

## 四、Vue 极致优化清单

1、BaseCopy 中的复制图标采用按需引入方式

### 动画优化相关

1、菜单 main-menu 的 hover CSS 动画过渡效果  
~~2、切换路由时页面的过渡动画~~

### 逻辑优化相关

1、可以考虑 emits 的优化，示例：

```js
const emit = defineEmits<{
  (e: 'change', id: number): void
  (e: 'update', value: string): void
}>()
</script>
```

## 五、Mock 清单

## 六、工程配置清单

## 七、说明文档清单

1、完善使用说明文档

## 八、工程推广相关

~~1. 正式推广之前，将工程改个名字（Quick Admin Vue3、Quick Admin React18）~~  
 2. 配置 jkenjs

## 之前业务中发现 & 遗留的

4、src\views\activity\singleton_components\TypeConfig.vue 组件问题处理(多次切换时的多选项累加、重置多选项出现预期之外的错误)  
5、活动配置 - 单身圈列表，提交并回显后，切换一下，数据被置空了  
7、开启多个浏览器窗口时，会出现 token 过期的 bug  
29、实名白名单配置、BaseForm 自测页面 addDel 多次新增、删除引起的问题  
3、基础配置 - 实名白名单配置：输入框输入内容有值跟无值时，输入框的宽度不固定  
44、用户治理-举报记录-新增/编辑 弹窗初次回显数据时，不应该触发 onChange 事件，onChange 中 console.log 打印时，不应该打印多次  
2、鼠标放在操作的更多按钮上时，会出现蓝色边框，点击更多中的按钮，再将鼠标放到更多按钮上时，原来的蓝色边框会消失。  
21、自定义复杂表单及其嵌套表单项的校验  
22、SectionForm 复杂情况考虑 & 功能自测  
25、SectionForm 的表单校验规则未生效处理（当 section 中加入了 prop 属性后）  
26、SectionForm 嵌套 children required 校验会通篇变红。  
37、处理域名不对，会一直循环请求，导致报错【网络错误】的问题  
40、用户日志-上传记录-完善 VideoBox.vue 组件  
41、merge 与 Object.assign ，能使用 Object.assign 就使用 Object.assign 进行性能优化（仍需进一步完善优化）  
18、src\views\audit\company-apply\RejectApply.vue 监听的 change 事件，会触发执行两次  
42、useEvent hooks 增加防抖可选参数

## 一些参照链接地址

~~1、配置 husky：https://juejin.cn/post/7261862616095146042~~
