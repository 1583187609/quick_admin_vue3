var e;import{l as a}from"./lodash-e3f0fdcb.js";import{h as l,r as t,j as o,c as r,k as u,l as s,m as n,t as i,n as p,q as d,_ as m}from"./index-df51bfa3.js";import"./dayjs-70c6b0b9.js";import{_ as v}from"./AddDelList.vue_vue_type_script_setup_true_lang-b8fa1646.js";import{u as c}from"./dict-map-b95c54a5.js";import"./nprogress-61860a65.js";import{d as f,k as g,e as y,o as h,P as b,ab as x,Q as j,M as V,u as k,ai as T,aq as _,W as w,ad as D,K as U,T as $,c as C,F as P,U as B,V as q,R,a9 as S,J as A,a as N}from"./@vue-2b5461a3.js";import"./call-bind-2df1f9b5.js";import"./get-intrinsic-176af07e.js";import"./es-errors-c8ed318b.js";import"./has-symbols-456daba2.js";import"./has-proto-c2a23985.js";import"./function-bind-afbcd6f2.js";import"./hasown-c3b72c9b.js";import"./set-function-length-af5653fd.js";import"./define-data-property-80a6b8d7.js";import"./es-define-property-c2edbfb6.js";import"./gopd-991ce5b0.js";import"./has-property-descriptors-52e43c9d.js";import"./element-plus-568f2232.js";import"./lodash-es-d4f5f48c.js";import"./@vueuse-2ec33eb0.js";import"./@element-plus-df896130.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./qs-349681aa.js";import"./side-channel-4fcbcfeb.js";import"./object-inspect-1fd817f8.js";import"./axios-b9284f1b.js";import"./pinia-5cbb4d0f.js";import"./mock-281f81b0.js";import"./mockjs-21e11712.js";import"./vue-router-27db6c8e.js";import"./vite-plugin-mock-fcfbfb18.js";import"./path-to-regexp-83a43451.js";import"./vue-i18n-aaa7cda4.js";import"./@intlify-34459bb4.js";import"./xlsx-8a748b86.js";import"./AddDelBtn-bca2ac7e.js";import"./_utils-0f2b9537.js";const z=null==(e=r)?void 0:e.form;l([{text:"今天",value:new Date},{text:"昨天",value:()=>{const e=new Date;return e.setTime(e.getTime()-864e5),e}},{text:"一周内",value:()=>{const e=new Date;return e.setTime(e.getTime()-6048e5),e}}],null==z?void 0:z.defaultDateShortcuts,"alert");const F=l([{text:"近一周",value:()=>{const e=new Date,a=new Date;return a.setTime(a.getTime()-6048e5),[a,e]}},{text:"近一个月",value:()=>{const e=new Date,a=new Date;return a.setTime(a.getTime()-2592e6),[a,e]}},{text:"近三个月",value:()=>{const e=new Date,a=new Date;return a.setTime(a.getTime()-7776e6),[a,e]}}],null==z?void 0:z.defaultDateRangeShortcuts,"alert"),M=l({input:{attrs:{placeholder:"请输入${label}",clearable:!0,showWordLimit:!0}},select:{attrs:{style:{minWidth:"150px"},clearable:!0,tagType:"primary",loadingText:"玩命加载中……",getAttrs(e){const{remote:a,multiple:l}=e.attrs||{};return{placeholder:a?"请输入关键字搜索${label}":"请选择${label}",...l?{collapseTags:!0,collapseTagsTooltip:!0,maxCollapseTags:2}:void 0}}}},cascader:{attrs:{placeholder:"请选择${label}",clearable:!0}},"date-picker":{attrs:{type:"daterange",rangeSeparator:t,valueFormat:"YYYY-MM-DD",placeholder:"请选择${label}",clearable:!0,getAttrs(e){const{attrs:a={}}=e,{type:l}=a,t={};if(l.includes("range")){const e={date:"日期",month:"月份",datetime:"时间"};t.startPlaceholder=`开始${e[l.slice(0,-5)]}`,t.endPlaceholder=`结束${e[l.slice(0,-5)]}`,"daterange"===l&&(t.shortcuts=F)}return t}}},switch:{attrs:{activeValue:1,inactiveValue:0,activeText:"启用",inactiveText:"禁用",inlinePrompt:!0}},"checkbox-group":{attrs:{},options:[{label:"多选项1"}]},"radio-group":{attrs:{type:"button"},options:[{label:"单选项-error"}]},pureText:{attrs:{style:{"line-height":"22px","margin-top":"4px"}}},"input-number":{attrs:{placeholder:"${label}"}},slider:{attrs:{}},autocomplete:{attrs:{placeholder:"请输入${label}",clearable:!0,showWordLimit:!0,fetchSuggestions(e,a){a([{label:e,value:e}])}}},"time-picker":{attrs:{placeholder:"请选择${label}",rangeSeparator:t,clearable:!0}},"time-select":{attrs:{placeholder:"请选择${label}",clearable:!0}},BaseNumberRange:{attrs:{}}},null==z?void 0:z.defaultFieldAttrs);l({},null==z?void 0:z.defaultPopoverAttrs);const O=l({phone:{rules:[{pattern:o.phone,message:"请输入正确的11位电话号码",trigger:"blur"}],attrs:{maxlength:11}},password:{rules:[{min:6,message:"密码长度不能小于6位",trigger:"blur"},{pattern:o.password,message:"请输入正确的6~16位字母 + 数字组合密码",trigger:"blur"}],attrs:{type:"password",maxlength:16,showPassword:!0}},identity:{rules:[{min:15,message:"身份证号长度不能小于15位",trigger:"blur"},{pattern:o.identity,message:"请输入正确的15/18位身份证号",trigger:"blur"}],attrs:{maxlength:18}},email:{rules:[{pattern:o.email,message:"请输入正确的邮箱地址",trigger:"blur"}]},age:{type:"input-number",attrs:{min:0,max:100},extra:{after:"岁"}}},null==z?void 0:z.defaultValidTypes),I={key:0,class:"mr-h"},W={class:"err"},L={key:15,class:"err"},Y={key:16,class:"ml-h"},H=["innerHTML"],J=m(f({name:"BaseFormItem",inheritAttrs:!1,props:{prefixProp:{},field:{},pureText:{type:Boolean},modelValue:{},className:{},inputDebounce:{type:Boolean},size:{},formRef:{}},emits:["update:modelValue","change"],setup(e,{expose:l,emit:o}){var r,m;const f=e,z=o,F=g({get:()=>f.modelValue,set(e){z("update:modelValue",e)}});let J;const{getCascaderOpts:Q,getOpts:E}=c(),K=y([]),G=g((()=>{var e,l;const{prefixProp:t,field:o,size:r}=f,{type:u,label:s,extra:i={},children:p,slots:m}=o;let v=JSON.parse(JSON.stringify(o));if(null==p?void 0:p.length){const{required:e}=o;if(K.value=p,!e){p.some((e=>"object"==typeof e&&((null==e?void 0:e.required)??!1)))&&(v.required=!0)}}else{const{valid:r=""}=i,s=r?O[r]:{},{type:p}=s,c=u||p||d,f=M[c];v=a.merge({type:c},f,s,o);const{getAttrs:g}=(null==v?void 0:v.attrs)??{};g&&a.merge(v,{attrs:g(v)},o);let{options:y}=v;"string"==typeof y&&(v.options="cascader"===c?Q(y):E(y)),J=n(null==(e=v.extra)?void 0:e.popover),v.prop=t?`${t}.${o.prop}`:o.prop,v.rules=function(e,a=[]){const{label:l="",required:t,extra:o={}}=e,{valid:r}=o,u=r?O[r]:{},s=[...u.rules||[],...t?[{required:t,message:l+"必填",trigger:"blur"}]:[],...a];return function(e=[]){const a=[];return e.forEach(((l,t)=>{const o=["required","min","max","pattern","validator"],{type:r}=l,u=e.findIndex(((e,a)=>{let t=!1;return t=r?e.type===r:!!o.find(((a,t)=>void 0!==l[a]&&void 0!==e[a])),t}));-1===u?a.push(l):a[u]=l})),a}(s)}(v,o.rules),(null==(l=null==v?void 0:v.attrs)?void 0:l.placeholder)&&(v.attrs.placeholder=function(e){var a;const{label:l="",extra:t={}}=e,{example:o}=t;let r=(null==(a=null==e?void 0:e.attrs)?void 0:a.placeholder)??"";r=r.replace("${label}",l),o&&(r+=`，例：${o}`);return r}(v)),"string"==typeof m&&(v.slots={default:m})}return delete v.children,v})),X={"f-1":(null==(r=G.value.extra)?void 0:r.before)||(null==(m=G.value.extra)?void 0:m.after)};function Z(e,l){var o,r,u;const{type:s=d,label:n,attrs:m={},options:v=[],extra:c={}}=e,{after:g=""}=c;if(["select","radio-group"].includes(s))l=null==(o=null==v?void 0:v.find((e=>e.value===l)))?void 0:o.label;else if(s.includes("Time")||s.includes("date")){const{format:e}=a.merge({},null==(r=M[s])?void 0:r.attrs,m),o="Array"===i(l),u=` ${t} `;l=f.pureText?o?l.join(u):l:o?l.map((a=>a.format(e))).join(u):null==l?void 0:l.format(e)}else if("checkbox-group"===s)l=null==(u=null==v?void 0:v.filter((e=>l.includes(e.value))))?void 0:u.map((e=>e.label)).join("，");else if("input-number"===s)l=l?l+g:"-";else if("switch"===s){const{activeText:e="是",inactiveText:a="否",activeValue:t}=m;l=t===l?e:a}else"checkbox"===s?l=l?"是":"否":"cascader"===s?l=p(null==m?void 0:m.options,l)||"-":"BaseNumberRange"===s?l=l.join(t):"custom"===s&&(l="-");return{label:n,value:l}}return l({}),(e,a)=>{const l=T("BaseRender"),t=T("BaseIcon"),o=T("el-popover"),r=T("el-input"),n=T("el-option"),i=T("el-select"),p=T("el-date-picker"),d=T("el-radio-button"),m=T("el-radio"),c=T("el-radio-group"),g=T("el-checkbox"),y=T("el-checkbox-group"),M=T("el-input-number"),O=T("el-switch"),Q=T("el-cascader"),E=T("BaseNumberRange"),ee=T("BaseUpload"),ae=T("el-autocomplete"),le=T("el-slider"),te=T("BaseFormItem"),oe=T("el-form-item"),re=_("debounce");return h(),b(oe,V({class:"base-form-item"},e.prefixProp&&!G.value.labelWidth?k(s)(G.value,["label"]):G.value,{class:e.className}),x({default:j((()=>{var t,o,u,T,_,D,U,J,oe,ue;return[(null==(t=G.value.extra)?void 0:t.before)?(h(),C("div",I,[w(l,{data:G.value.extra.before},null,8,["data"])])):$("",!0),K.value.length?(h(),C(P,{key:2},["addDel"===G.value.type?(h(),b(v,{key:0,parentProp:G.value.prop,fields:K.value,pureText:e.pureText,modelValue:F.value,"onUpdate:modelValue":a[26]||(a[26]=e=>F.value=e),formRef:e.formRef},null,8,["parentProp","fields","pureText","modelValue","formRef"])):(h(!0),C(P,{key:1},S(K.value,((a,l)=>{var t;return h(),b(te,V({key:l,prefixProp:G.value.prop,field:a,pureText:(null==(t=a.extra)?void 0:t.pureText)||e.pureText,modelValue:F.value[a.prop],"onUpdate:modelValue":e=>F.value[a.prop]=e,className:"mr-o",ref_for:!0},a),null,16,["prefixProp","field","pureText","modelValue","onUpdate:modelValue"])})),128))],64)):(h(),C(P,{key:1},[(null==(o=G.value.extra)?void 0:o.pureText)||e.pureText?(h(),C(P,{key:0},[B(q(Z(G.value,F.value).value??"-"),1)],64)):(h(),C(P,{key:1},["input"===G.value.type?R((h(),b(r,V({key:0,class:X,onClear:a[0]||(a[0]=()=>z("change",G.value.prop,"")),modelValue:F.value,"onUpdate:modelValue":a[1]||(a[1]=e=>F.value=e),modelModifiers:{trim:!0}},G.value.attrs),x({_:2},[S(null==(u=G.value)?void 0:u.slots,((e,a)=>({name:a,fn:j((()=>[w(l,{data:e},null,8,["data"])]))})))]),1040,["modelValue"])),[[re,e=>function(e,a){if(f.inputDebounce){const l=(e.querySelector("input")||e.querySelector("textarea")).value;z("change",a,l)}}(e,G.value.prop),"input"]]):"select"===G.value.type?(h(),b(i,V({key:1,class:X,onChange:a[2]||(a[2]=e=>z("change",G.value.prop,e??"")),modelValue:F.value,"onUpdate:modelValue":a[3]||(a[3]=e=>F.value=e)},G.value.attrs),x({default:j((()=>[(h(!0),C(P,null,S(G.value.options,((e,a)=>(h(),C(P,{key:a},[(null==e?void 0:e.customOption)?(h(),b(n,V({key:0,ref_for:!0},k(s)(e,["customOption"])),{default:j((()=>[w(l,{data:e.customOption},null,8,["data"])])),_:2},1040)):(h(),b(n,V({key:1,ref_for:!0},e),null,16))],64)))),128))])),_:2},[S(null==(T=G.value)?void 0:T.slots,((e,a)=>({name:a,fn:j((()=>[w(l,{data:e},null,8,["data"])]))})))]),1040,["modelValue"])):"date-picker"===G.value.type?(h(),b(p,V({key:2,class:X,onChange:a[4]||(a[4]=e=>z("change",G.value.prop,e??"")),modelValue:F.value,"onUpdate:modelValue":a[5]||(a[5]=e=>F.value=e)},G.value.attrs),x({_:2},[S(null==(_=G.value)?void 0:_.slots,((e,a)=>({name:a,fn:j((()=>[w(l,{data:e},null,8,["data"])]))})))]),1040,["modelValue"])):"radio-group"===G.value.type?(h(),b(c,V({key:3,onChange:a[6]||(a[6]=e=>z("change",G.value.prop,e??"")),modelValue:F.value,"onUpdate:modelValue":a[7]||(a[7]=e=>F.value=e)},G.value.attrs),{default:j((()=>{var e,a;return["button"===(null==(a=null==(e=G.value)?void 0:e.attrs)?void 0:a.type)?(h(!0),C(P,{key:0},S(G.value.options,((e,a)=>(h(),b(d,{disabled:e.disabled,value:e.value,key:a},{default:j((()=>[B(q(e.label),1)])),_:2},1032,["disabled","value"])))),128)):(h(!0),C(P,{key:1},S(G.value.options,((e,a)=>(h(),b(m,{disabled:e.disabled,value:e.value,key:a},{default:j((()=>[B(q(e.label),1)])),_:2},1032,["disabled","value"])))),128))]})),_:1},16,["modelValue"])):"checkbox-group"===G.value.type?(h(),b(y,V({key:4,onChange:a[8]||(a[8]=e=>z("change",G.value.prop,e??"")),modelValue:F.value,"onUpdate:modelValue":a[9]||(a[9]=e=>F.value=e)},G.value.attrs),{default:j((()=>[(h(!0),C(P,null,S(G.value.options,((e,a)=>(h(),b(g,V({disabled:e.disabled,value:e.value,ref_for:!0},k(s)(e,["label"]),{name:G.value.prop,key:a}),{default:j((()=>[w(l,{data:e.label},null,8,["data"])])),_:2},1040,["disabled","value","name"])))),128))])),_:1},16,["modelValue"])):"input-number"===G.value.type?(h(),b(M,V({key:5,onChange:a[10]||(a[10]=e=>z("change",G.value.prop,e??"")),modelValue:F.value,"onUpdate:modelValue":a[11]||(a[11]=e=>F.value=e)},G.value.attrs),null,16,["modelValue"])):"switch"===G.value.type?(h(),b(O,V({key:6,onChange:a[12]||(a[12]=e=>z("change",G.value.prop,e??"")),modelValue:F.value,"onUpdate:modelValue":a[13]||(a[13]=e=>F.value=e)},G.value.attrs),null,16,["modelValue"])):"cascader"===G.value.type?(h(),b(Q,V({key:7,class:X,onChange:a[14]||(a[14]=e=>z("change",G.value.prop,e??"")),modelValue:F.value,"onUpdate:modelValue":a[15]||(a[15]=e=>F.value=e),options:G.value.options},G.value.attrs),x({_:2},[S(null==(D=G.value)?void 0:D.slots,((e,a)=>({name:a,fn:j((()=>[w(l,{data:e},null,8,["data"])]))})))]),1040,["modelValue","options"])):"custom"===G.value.type?A(e.$slots,"custom",{key:8,field:G.value},(()=>[N("div",W,"【自定义】"+q(`${G.value.label}（${G.value.prop})`),1)]),!0):"BaseNumberRange"===G.value.type?(h(),b(E,V({key:9,class:X,onChange:a[16]||(a[16]=(e,a)=>z("change",e,a??"")),size:e.size,modelValue:F.value,"onUpdate:modelValue":a[17]||(a[17]=e=>F.value=e)},G.value),null,16,["size","modelValue"])):"BaseUpload"===G.value.type?(h(),b(ee,V({key:10,onChange:a[18]||(a[18]=e=>z("change",G.value.prop,e??""))},G.value.attrs,{modelValue:F.value,"onUpdate:modelValue":a[19]||(a[19]=e=>F.value=e)}),null,16,["modelValue"])):"autocomplete"===G.value.type?(h(),b(ae,V({key:11,class:X,onChange:a[20]||(a[20]=e=>z("change",G.value.prop,e??"")),modelValue:F.value,"onUpdate:modelValue":a[21]||(a[21]=e=>F.value=e)},G.value.attrs),x({_:2},[S(null==(U=G.value)?void 0:U.slots,((e,a)=>({name:a,fn:j((()=>[w(l,{data:e},null,8,["data"])]))})))]),1040,["modelValue"])):"slider"===G.value.type?(h(),b(le,V({key:12,class:X,onChange:a[22]||(a[22]=e=>z("change",G.value.prop,e??"")),modelValue:F.value,"onUpdate:modelValue":a[23]||(a[23]=e=>F.value=e)},G.value.attrs),null,16,["modelValue"])):"checkbox"===G.value.type?(h(),b(g,V({key:13,onChange:a[24]||(a[24]=e=>z("change",G.value.prop,e??"")),modelValue:F.value,"onUpdate:modelValue":a[25]||(a[25]=e=>F.value=e)},G.value.attrs),null,16,["modelValue"])):"empty"===G.value.type?(h(),C("div",V({key:14,class:"empty"},G.value.attrs),null,16)):(h(),C("div",L,"【不存在】"+q(G.value.type),1)),(null==(J=G.value.extra)?void 0:J.after)?(h(),C("div",Y,[w(l,{data:null==(oe=G.value.extra)?void 0:oe.after},null,8,["data"])])):$("",!0)],64)),(null==(ue=G.value.extra)?void 0:ue.tips)?(h(),C("div",{key:2,class:"show-tips",innerHTML:"注："+G.value.extra.tips},null,8,H)):$("",!0)],64))]})),_:2},[!e.prefixProp||G.value.labelWidth?{name:"label",fn:j((()=>[w(l,{data:G.value.label},null,8,["data"]),k(J)?(h(),b(o,D(V({key:0},k(J))),{reference:j((()=>[w(t,{color:k(u).colorInfo,class:U(["icon-popover",e.size]),name:"QuestionFilled"},null,8,["color","class"])])),default:j((()=>[k(J).defaultSlot?(h(),b(l,{key:0,data:k(J).defaultSlot},null,8,["data"])):$("",!0)])),_:1},16)):$("",!0)])),key:"0"}:void 0]),1040,["class"])}}}),[["__scopeId","data-v-df35e034"]]);export{J as default};
