var e;import{l}from"./lodash-8dc1f9dc.js";import{h as a,r as t,j as o,c as r,k as s,l as u,m as n,t as i,n as p,_ as d}from"./index-06b7404a.js";import{g as v}from"./system-ca7a6aa4.js";import"./dayjs-21617033.js";import{_ as m}from"./AddDelList.vue_vue_type_script_setup_true_lang-c67ee13d.js";import{d as c,k as g,e as f,o as h,P as y,ab as b,Q as x,M as V,u as j,ai as k,aq as T,W as w,ad as _,K as D,T as U,c as $,F as C,U as B,V as P,R as q,a9 as R,J as A,a as N}from"./@vue-2b5461a3.js";import"./call-bind-ada3a9fc.js";import"./get-intrinsic-176af07e.js";import"./es-errors-c8ed318b.js";import"./has-symbols-456daba2.js";import"./has-proto-c2a23985.js";import"./function-bind-afbcd6f2.js";import"./hasown-c3b72c9b.js";import"./set-function-length-968dc075.js";import"./define-data-property-9d7bf764.js";import"./es-define-property-c2edbfb6.js";import"./gopd-16a4ddf0.js";import"./has-property-descriptors-52e43c9d.js";import"./element-plus-ee430b3a.js";import"./lodash-es-d4f5f48c.js";import"./@vueuse-2ec33eb0.js";import"./@element-plus-c17b3efe.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./qs-238f3f4b.js";import"./side-channel-5a41c40a.js";import"./object-inspect-0d550a97.js";import"./axios-b9284f1b.js";import"./pinia-5cbb4d0f.js";import"./mock-04205f76.js";import"./mockjs-217213d3.js";import"./vue-router-7f68ddec.js";import"./nprogress-b5e58671.js";import"./vite-plugin-mock-6db8ade2.js";import"./path-to-regexp-83a43451.js";import"./xlsx-8a748b86.js";import"./AddDelBtn-b5e4f81f.js";import"./_utils-e15a3336.js";const S=null==(e=r)?void 0:e.form;a([{text:"今天",value:new Date},{text:"昨天",value:()=>{const e=new Date;return e.setTime(e.getTime()-864e5),e}},{text:"一周内",value:()=>{const e=new Date;return e.setTime(e.getTime()-6048e5),e}}],null==S?void 0:S.defaultDateShortcuts,"alert");const z=a([{text:"近一周",value:()=>{const e=new Date,l=new Date;return l.setTime(l.getTime()-6048e5),[l,e]}},{text:"近一个月",value:()=>{const e=new Date,l=new Date;return l.setTime(l.getTime()-2592e6),[l,e]}},{text:"近三个月",value:()=>{const e=new Date,l=new Date;return l.setTime(l.getTime()-7776e6),[l,e]}}],null==S?void 0:S.defaultDateRangeShortcuts,"alert"),F=a({input:{attrs:{placeholder:"请输入${label}",clearable:!0,showWordLimit:!0}},select:{attrs:{style:{width:"100%",minWidth:"150px"},clearable:!0,tagType:"primary",loadingText:"玩命加载中……",getAttrs(e){const{remote:l,multiple:a}=e.attrs||{};return{placeholder:l?"请输入关键字搜索${label}":"请选择${label}",...a?{collapseTags:!0,collapseTagsTooltip:!0,maxCollapseTags:2}:void 0}}}},cascader:{attrs:{style:{width:"100%"},placeholder:"请选择${label}",clearable:!0}},"date-picker":{attrs:{style:{width:"100%"},type:"daterange",rangeSeparator:t,valueFormat:"YYYY-MM-DD",placeholder:"请选择${label}",clearable:!0,getAttrs(e){const{attrs:l={}}=e,{type:a}=l,t={};if(a.includes("range")){const e={date:"日期",month:"月份",datetime:"时间"};t.startPlaceholder=`开始${e[a.slice(0,-5)]}`,t.endPlaceholder=`结束${e[a.slice(0,-5)]}`,"daterange"===a&&(t.shortcuts=z)}return t}}},switch:{attrs:{activeValue:1,inactiveValue:0,activeText:"启用",inactiveText:"禁用",inlinePrompt:!0}},"checkbox-group":{attrs:{},options:[{label:"多选项1"}]},"radio-group":{attrs:{type:"button"},options:[{label:"单选项-error"}]},pureText:{attrs:{style:{"line-height":"22px","margin-top":"4px"}}},"input-number":{attrs:{placeholder:"${label}"}},slider:{attrs:{}},autocomplete:{attrs:{style:{width:"100%"},placeholder:"请输入${label}",clearable:!0,showWordLimit:!0,fetchSuggestions(e,l){l([{label:e,value:e}])}}},"time-picker":{attrs:{style:{width:"100%"},placeholder:"请选择${label}",rangeSeparator:t,clearable:!0}},"time-select":{attrs:{style:{width:"100%"},placeholder:"请选择${label}",clearable:!0}},BaseNumberRange:{attrs:{style:{width:"100%"}}}},null==S?void 0:S.defaultFieldAttrs);a({},null==S?void 0:S.defaultPopoverAttrs);const I=a({phone:{rules:[{pattern:o.phone,message:"请输入正确的11位电话号码",trigger:"blur"}],attrs:{maxlength:11}},password:{rules:[{min:6,message:"密码长度不能小于6位",trigger:"blur"},{pattern:o.password,message:"请输入正确的6~16位字母 + 数字组合密码",trigger:"blur"}],attrs:{type:"password",maxlength:16,showPassword:!0}},identity:{rules:[{min:15,message:"身份证号长度不能小于15位",trigger:"blur"},{pattern:o.identity,message:"请输入正确的15/18位身份证号",trigger:"blur"}],attrs:{maxlength:18}},email:{rules:[{pattern:o.email,message:"请输入正确的邮箱地址",trigger:"blur"}]},age:{type:"input-number",attrs:{min:0,max:100},extra:{after:"岁"}}},null==S?void 0:S.defaultValidTypes),L={key:0,class:"mr-h"},M={class:"err"},W={key:15,class:"err"},O={key:16,class:"ml-h"},J=["innerHTML"],Y=d(c({name:"BaseFormItem",inheritAttrs:!1,props:{prefixProp:{},field:{},pureText:{type:Boolean},modelValue:{},className:{},inputDebounce:{type:Boolean},size:{},formRef:{}},emits:["update:modelValue","change"],setup(e,{expose:a,emit:o}){var r,d;const c=e,S=o,z=g({get:()=>c.modelValue,set(e){S("update:modelValue",e)}});let Y;const E=f([]),H=g((()=>{var e,a,t;const{prefixProp:o,field:r,size:s}=c,{type:u,label:d,extra:v={},children:m}=r;let g=JSON.parse(JSON.stringify(r));if(null==m?void 0:m.length){const{required:e}=r;if(E.value=m,!e){m.some((e=>"object"==typeof e&&((null==e?void 0:e.required)??!1)))&&(g.required=!0)}}else{const{valid:s=""}=v,d=s?I[s]:{},{type:m}=d,c=u||m||p,f=F[c];g=l.merge({type:c},f,d,r);const h=(null==(a=null==(e=null==g?void 0:g.attrs)?void 0:e.getAttrs)?void 0:a.call(e,g))||{};l.merge(g,{attrs:h},r),Y=n(null==(t=g.extra)?void 0:t.popover),g.prop=o?`${o}.${r.prop}`:r.prop,g.rules=function(e,l=[]){const{label:a="",required:t,extra:o={}}=e,{valid:r}=o,s=r?I[r]:{},u=[...s.rules||[],...t?[{required:t,message:a+"必填",trigger:"blur"}]:[],...l];return function(e=[]){let l=[];return e.forEach(((a,t)=>{const o=["required","min","max","pattern","validator"],{type:r}=a,s=e.findIndex(((e,l)=>{let t=!1;return t=r?e.type===r:!!o.find(((l,t)=>void 0!==a[l]&&void 0!==e[l])),t}));-1===s?l.push(a):l[s]=a})),l}(u)}(g,r.rules),g.attrs.placeholder=function(e){var l;const{label:a="",extra:t={}}=e,{example:o}=t;let r=(null==(l=null==e?void 0:e.attrs)?void 0:l.placeholder)??"";r=r.replace("${label}",a),o&&(r+=`，例：${o}`);return r}(g);const{slots:y}=g.attrs;"String"===i(y)&&(g.attrs.slots={default:y})}return delete g.children,g})),Q={"f-1":(null==(r=H.value.extra)?void 0:r.before)||(null==(d=H.value.extra)?void 0:d.after)};function G(e,a){var o,r,s;const{type:u=p,label:n,attrs:d={},options:m=[],extra:g={}}=e,{after:f=""}=g;if(["select","radio-group"].includes(u))a=null==(o=null==m?void 0:m.find((e=>e.value===a)))?void 0:o.label;else if(u.includes("Time")||u.includes("date")){const{format:e}=l.merge({},null==(r=F[u])?void 0:r.attrs,d),o="Array"===i(a),s=` ${t} `;a=c.pureText?o?a.join(s):a:o?a.map((l=>l.format(e))).join(s):null==a?void 0:a.format(e)}else if("checkbox-group"===u)a=null==(s=null==m?void 0:m.filter((e=>a.includes(e.value))))?void 0:s.map((e=>e.label)).join("，");else if("input-number"===u)a=a?a+f:"-";else if("switch"===u){const{activeText:e="是",inactiveText:l="否",activeValue:t}=d;a=t===a?e:l}else"checkbox"===u?a=a?"是":"否":"cascader"===u?a=v(null==d?void 0:d.options,a)||"-":"BaseNumberRange"===u?a=a.join(t):"custom"===u&&(a="-");return{label:n,value:a}}return a({}),(e,l)=>{const a=k("BaseRender"),t=k("BaseIcon"),o=k("el-popover"),r=k("el-input"),n=k("el-option"),i=k("el-select"),p=k("el-date-picker"),d=k("el-radio-button"),v=k("el-radio"),g=k("el-radio-group"),f=k("el-checkbox"),F=k("el-checkbox-group"),I=k("el-input-number"),K=k("el-switch"),X=k("el-cascader"),Z=k("BaseNumberRange"),ee=k("BaseUpload"),le=k("el-autocomplete"),ae=k("el-slider"),te=k("BaseFormItem"),oe=k("el-form-item"),re=T("debounce");return h(),y(oe,V({class:"base-form-item"},e.prefixProp&&!H.value.labelWidth?j(u)(H.value,["label"]):H.value,{class:e.className}),b({default:x((()=>{var t,o,s,k,T,_,D,Y,oe,se,ue,ne,ie,pe,de;return[(null==(t=H.value.extra)?void 0:t.before)?(h(),$("div",L,[w(a,{data:H.value.extra.before},null,8,["data"])])):U("",!0),E.value.length?(h(),$(C,{key:2},["addDel"===H.value.type?(h(),y(m,{key:0,parentProp:H.value.prop,fields:E.value,pureText:e.pureText,modelValue:z.value,"onUpdate:modelValue":l[26]||(l[26]=e=>z.value=e),formRef:e.formRef},null,8,["parentProp","fields","pureText","modelValue","formRef"])):(h(!0),$(C,{key:1},R(E.value,((l,a)=>{var t;return h(),y(te,V({key:a,prefixProp:H.value.prop,field:l,pureText:(null==(t=l.extra)?void 0:t.pureText)||e.pureText,modelValue:z.value[l.prop],"onUpdate:modelValue":e=>z.value[l.prop]=e,className:"mr-o",ref_for:!0},l),null,16,["prefixProp","field","pureText","modelValue","onUpdate:modelValue"])})),128))],64)):(h(),$(C,{key:1},[(null==(o=H.value.extra)?void 0:o.pureText)||e.pureText?(h(),$(C,{key:0},[B(P(G(H.value,z.value).value??"-"),1)],64)):(h(),$(C,{key:1},["input"===H.value.type?q((h(),y(r,V({key:0,class:Q,onClear:l[0]||(l[0]=()=>S("change",H.value.prop,"")),modelValue:z.value,"onUpdate:modelValue":l[1]||(l[1]=e=>z.value=e),modelModifiers:{trim:!0}},H.value.attrs),b({_:2},[R(null==(k=null==(s=H.value)?void 0:s.attrs)?void 0:k.slots,((e,l)=>({name:l,fn:x((()=>[w(a,{data:e},null,8,["data"])]))})))]),1040,["modelValue"])),[[re,e=>function(e,l){if(c.inputDebounce){const a=(e.querySelector("input")||e.querySelector("textarea")).value;S("change",l,a)}}(e,H.value.prop),"input"]]):"select"===H.value.type?(h(),y(i,V({key:1,class:Q,onChange:l[2]||(l[2]=e=>S("change",H.value.prop,e??"")),modelValue:z.value,"onUpdate:modelValue":l[3]||(l[3]=e=>z.value=e)},H.value.attrs),b({default:x((()=>[(h(!0),$(C,null,R(H.value.options,((e,l)=>(h(),$(C,{key:l},[(null==e?void 0:e.customOption)?(h(),y(n,V({key:0,ref_for:!0},j(u)(e,["customOption"])),{default:x((()=>[w(a,{data:e.customOption},null,8,["data"])])),_:2},1040)):(h(),y(n,V({key:1,ref_for:!0},e),null,16))],64)))),128))])),_:2},[R(null==(_=null==(T=H.value)?void 0:T.attrs)?void 0:_.slots,((e,l)=>({name:l,fn:x((()=>[w(a,{data:e},null,8,["data"])]))})))]),1040,["modelValue"])):"date-picker"===H.value.type?(h(),y(p,V({key:2,class:Q,onChange:l[4]||(l[4]=e=>S("change",H.value.prop,e??"")),modelValue:z.value,"onUpdate:modelValue":l[5]||(l[5]=e=>z.value=e)},H.value.attrs),b({_:2},[R(null==(Y=null==(D=H.value)?void 0:D.attrs)?void 0:Y.slots,((e,l)=>({name:l,fn:x((()=>[w(a,{data:e},null,8,["data"])]))})))]),1040,["modelValue"])):"radio-group"===H.value.type?(h(),y(g,V({key:3,onChange:l[6]||(l[6]=e=>S("change",H.value.prop,e??"")),modelValue:z.value,"onUpdate:modelValue":l[7]||(l[7]=e=>z.value=e)},H.value.attrs),{default:x((()=>{var e,l;return["button"===(null==(l=null==(e=H.value)?void 0:e.attrs)?void 0:l.type)?(h(!0),$(C,{key:0},R(H.value.options,((e,l)=>(h(),y(d,{disabled:e.disabled,value:e.value,key:l},{default:x((()=>[B(P(e.label),1)])),_:2},1032,["disabled","value"])))),128)):(h(!0),$(C,{key:1},R(H.value.options,((e,l)=>(h(),y(v,{disabled:e.disabled,value:e.value,key:l},{default:x((()=>[B(P(e.label),1)])),_:2},1032,["disabled","value"])))),128))]})),_:1},16,["modelValue"])):"checkbox-group"===H.value.type?(h(),y(F,V({key:4,onChange:l[8]||(l[8]=e=>S("change",H.value.prop,e??"")),modelValue:z.value,"onUpdate:modelValue":l[9]||(l[9]=e=>z.value=e)},H.value.attrs),{default:x((()=>[(h(!0),$(C,null,R(H.value.options,((e,l)=>(h(),y(f,V({disabled:e.disabled,value:e.value,ref_for:!0},j(u)(e,["label"]),{name:H.value.prop,key:l}),{default:x((()=>[w(a,{data:e.label},null,8,["data"])])),_:2},1040,["disabled","value","name"])))),128))])),_:1},16,["modelValue"])):"input-number"===H.value.type?(h(),y(I,V({key:5,onChange:l[10]||(l[10]=e=>S("change",H.value.prop,e??"")),modelValue:z.value,"onUpdate:modelValue":l[11]||(l[11]=e=>z.value=e)},H.value.attrs),null,16,["modelValue"])):"switch"===H.value.type?(h(),y(K,V({key:6,onChange:l[12]||(l[12]=e=>S("change",H.value.prop,e??"")),modelValue:z.value,"onUpdate:modelValue":l[13]||(l[13]=e=>z.value=e)},H.value.attrs),null,16,["modelValue"])):"cascader"===H.value.type?(h(),y(X,V({key:7,class:Q,onChange:l[14]||(l[14]=e=>S("change",H.value.prop,e??"")),modelValue:z.value,"onUpdate:modelValue":l[15]||(l[15]=e=>z.value=e),options:H.value.options},H.value.attrs),b({_:2},[R(null==(se=null==(oe=H.value)?void 0:oe.attrs)?void 0:se.slots,((e,l)=>({name:l,fn:x((()=>[w(a,{data:e},null,8,["data"])]))})))]),1040,["modelValue","options"])):"custom"===H.value.type?A(e.$slots,"custom",{key:8,field:H.value},(()=>[N("div",M,"【自定义】"+P(`${H.value.label}（${H.value.prop})`),1)]),!0):"BaseNumberRange"===H.value.type?(h(),y(Z,V({key:9,class:Q,onChange:l[16]||(l[16]=(e,l)=>S("change",e,l??"")),size:e.size,modelValue:z.value,"onUpdate:modelValue":l[17]||(l[17]=e=>z.value=e)},H.value),null,16,["size","modelValue"])):"BaseUpload"===H.value.type?(h(),y(ee,V({key:10,onChange:l[18]||(l[18]=e=>S("change",H.value.prop,e??""))},H.value.attrs,{modelValue:z.value,"onUpdate:modelValue":l[19]||(l[19]=e=>z.value=e)}),null,16,["modelValue"])):"autocomplete"===H.value.type?(h(),y(le,V({key:11,class:Q,onChange:l[20]||(l[20]=e=>S("change",H.value.prop,e??"")),modelValue:z.value,"onUpdate:modelValue":l[21]||(l[21]=e=>z.value=e)},H.value.attrs),b({_:2},[R(null==(ne=null==(ue=H.value)?void 0:ue.attrs)?void 0:ne.slots,((e,l)=>({name:l,fn:x((()=>[w(a,{data:e},null,8,["data"])]))})))]),1040,["modelValue"])):"slider"===H.value.type?(h(),y(ae,V({key:12,class:Q,onChange:l[22]||(l[22]=e=>S("change",H.value.prop,e??"")),modelValue:z.value,"onUpdate:modelValue":l[23]||(l[23]=e=>z.value=e)},H.value.attrs),null,16,["modelValue"])):"checkbox"===H.value.type?(h(),y(f,V({key:13,onChange:l[24]||(l[24]=e=>S("change",H.value.prop,e??"")),modelValue:z.value,"onUpdate:modelValue":l[25]||(l[25]=e=>z.value=e)},H.value.attrs),null,16,["modelValue"])):"empty"===H.value.type?(h(),$("div",V({key:14,class:"empty"},H.value.attrs),null,16)):(h(),$("div",W,"【不存在】"+P(H.value.type),1)),(null==(ie=H.value.extra)?void 0:ie.after)?(h(),$("div",O,[w(a,{data:null==(pe=H.value.extra)?void 0:pe.after},null,8,["data"])])):U("",!0)],64)),(null==(de=H.value.extra)?void 0:de.tips)?(h(),$("div",{key:2,class:"show-tips",innerHTML:"注："+H.value.extra.tips},null,8,J)):U("",!0)],64))]})),_:2},[!e.prefixProp||H.value.labelWidth?{name:"label",fn:x((()=>[w(a,{data:H.value.label},null,8,["data"]),j(Y)?(h(),y(o,_(V({key:0},j(Y))),{reference:x((()=>[w(t,{color:j(s).colorInfo,class:D(["icon-popover",e.size]),name:"QuestionFilled"},null,8,["color","class"])])),_:1},16)):U("",!0)])),key:"0"}:void 0]),1040,["class"])}}}),[["__scopeId","data-v-b61aeb96"]]);export{Y as default};
