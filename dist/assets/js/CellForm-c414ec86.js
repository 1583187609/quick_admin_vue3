import{l as e}from"./lodash-e3f0fdcb.js";import{h as t}from"./_utils-0f2b9537.js";import o from"./FooterBtns-c1c5d07a.js";import{i as s,_ as r}from"./index-df51bfa3.js";import"./dayjs-70c6b0b9.js";import{d as a}from"./_config-f68c3c0a.js";import{d as i,$ as l,e as m,k as p,f as n,ai as u,o as d,P as f,Q as c,a as j,K as h,c as g,F as x,a9 as b,M as v,W as y,J as B,U as T,u as F,T as _}from"./@vue-2b5461a3.js";import"./call-bind-2df1f9b5.js";import"./get-intrinsic-176af07e.js";import"./es-errors-c8ed318b.js";import"./has-symbols-456daba2.js";import"./has-proto-c2a23985.js";import"./function-bind-afbcd6f2.js";import"./hasown-c3b72c9b.js";import"./set-function-length-af5653fd.js";import"./define-data-property-80a6b8d7.js";import"./es-define-property-c2edbfb6.js";import"./gopd-991ce5b0.js";import"./has-property-descriptors-52e43c9d.js";import"./@element-plus-df896130.js";import"./index-ab647bfb.js";import"./element-plus-568f2232.js";import"./lodash-es-d4f5f48c.js";import"./@vueuse-2ec33eb0.js";import"./@popperjs-b78c3215.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-36fbce82.js";import"./qs-349681aa.js";import"./side-channel-4fcbcfeb.js";import"./object-inspect-1fd817f8.js";import"./axios-b9284f1b.js";import"./pinia-5cbb4d0f.js";import"./mock-281f81b0.js";import"./mockjs-21e11712.js";import"./vue-router-27db6c8e.js";import"./nprogress-61860a65.js";import"./vite-plugin-mock-fcfbfb18.js";import"./path-to-regexp-83a43451.js";import"./vue-i18n-aaa7cda4.js";import"./@intlify-34459bb4.js";import"./xlsx-8a748b86.js";const k=r(i({inheritAttrs:!1,name:"CellForm",__name:"CellForm",props:{modelValue:{default:()=>l({})},fields:{default:()=>[]},pureText:{type:Boolean},fetch:{},fetchSuccess:{},fetchFail:{},footer:{type:Boolean,default:!0},submitText:{},resetText:{},extraParams:{},moreBtns:{},colSpanAttrs:{},loading:{type:Boolean},isOmit:{type:Boolean,default:!0},log:{type:Boolean,default:!s},debug:{type:Boolean},autoFixedFoot:{type:Boolean,default:!0},noSubmitProps:{},handleRequest:{}},emits:["update:modelValue","submit","change","moreBtns"],setup(s,{expose:r,emit:i}){const l={span:6},k=s,R=i,S=m(),V=m(null),P=m([]),q=p({get:()=>k.modelValue,set(e){R("update:modelValue",e)}});return n((()=>k.fields),(o=>{const{modelValue:s}=k,r=t(o,R,s),{data:a,fields:i}=r;P.value=i,e.merge(q.value,a)}),{immediate:!0,deep:!0}),r({formRef:S}),(t,s)=>{const r=u("BaseFormItem"),i=u("el-col"),m=u("el-form");return d(),f(m,v({class:"cell-form f-fs-s-c f-1",model:q.value},F(a),{ref_key:"formRef",ref:S}),{default:c((()=>[j("div",{class:h(["box all-hide-scroll",[t.fields.length?"f-fs-s-w":"f-c-c",t.autoFixedFoot&&"auto-fixed-foot"]])},[t.fields.length?(d(!0),g(x,{key:0},b(t.fields,((e,o)=>(d(),f(i,v({ref_for:!0},e.colAttrs||Object.assign({},l,t.colSpanAttrs),{key:o}),{default:c((()=>{var o;return[y(r,{field:e,pureText:(null==(o=e.extra)?void 0:o.pureText)||t.pureText,modelValue:q.value[e.prop],"onUpdate:modelValue":t=>q.value[e.prop]=t,onChange:s[0]||(s[0]=(e,t)=>R("change",e,t)),formRef:S.value},{custom:c((({field:e})=>[B(t.$slots,e.prop,{field:e,form:q.value},void 0,!0)])),_:2},1032,["field","pureText","modelValue","onUpdate:modelValue","formRef"])]})),_:2},1040)))),128)):(d(),g(x,{key:1},[T("空空如也~")],64))],2),!t.pureText&&t.footer?(d(),f(o,{key:0,loading:t.loading,moreBtns:t.moreBtns,submitText:t.submitText,resetText:t.resetText,formRef:S.value,isOmit:t.isOmit,log:t.log,debug:t.debug,params:F(e.merge)({},q.value,t.extraParams),fetch:t.fetch,fetchSuccess:t.fetchSuccess,fetchFail:t.fetchFail,noSubmitProps:t.noSubmitProps,handleRequest:t.handleRequest,disabled:!P.value.length,onMoreBtns:s[1]||(s[1]=(e,t,o)=>R("moreBtns",e,t,o)),onSubmit:s[2]||(s[2]=e=>R("submit",e)),ref_key:"footerBtnsRef",ref:V},null,8,["loading","moreBtns","submitText","resetText","formRef","isOmit","log","debug","params","fetch","fetchSuccess","fetchFail","noSubmitProps","handleRequest","disabled"])):_("",!0)])),_:3},16,["model"])}}}),[["__scopeId","data-v-864bdabf"]]);export{k as default};
