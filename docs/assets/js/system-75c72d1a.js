import{e as n,Q as e,t}from"./index-9d680563.js";import{d as l}from"./dayjs-21617033.js";import{r,u as o,w as i}from"./xlsx-8a748b86.js";function s(n,e={defval:""}){const t=r(n,{type:"buffer"}),l=t.SheetNames[0],i=t.Sheets[l];return o.sheet_to_json(i,e)}function u(n=[],e=l().format("YYYYMMDD"),t="表1",r){const s=o.book_new(),u=o.json_to_sheet(n,{skipHeader:!0});o.book_append_sheet(s,u,t),i(s,e+".xls"),null==r||r()}function a(n){if(!n)return"";n=l().diff(n)/1e3;let e="",t=0;const r=Math.floor(n/31536e3);if(r>0)return e="年",t=r,`${t}${e}前`;{const l=Math.floor(n/2592e3);if(l>0)return e="月",t=l,`${t}${e}前`;{const l=Math.floor(n/86400);if(l>0)e="天",t=l;else{const l=Math.floor(n/3600);if(l>0)e="小时",t=l;else{const l=Math.floor(n/60);if(!(l>0))return"刚刚";e="分钟",t=l}}return`${t}${e}前`}}}function f(l,r){if(!r||n.includes(e))return;const{type:o,prop:i}=l,s=t(i);(null==o?void 0:o.includes("date"))&&("String"===s?r[i]===e&&(r[i]=""):"Array"===s&&i.forEach((n=>{r[n]===e&&(r[n]="")})))}function c(n=[],e=[]){let t="";return function n(l,r=0){const{label:o="",children:i=[]}=(null==l?void 0:l[e[r]])||{};t+=o,(null==i?void 0:i.length)&&n(i,r+1)}(n),t}function d(n=[],e,t,l={id:"id",children:"children"}){if(!e)return"";let r="";return null==n||n.find((n=>n[l.id]==e?(r=n[t],!!r):(r=d(n[l.children],e,t),!!r))),r}function h(n,e,t={label:"label",value:"value",children:"children"},l="-"){const{label:r,value:o,children:i}=t;let s;return function n(t){return!!t.find((t=>{const l=t[i],r=t[o]===e;if(r)s=t;else if(null==l?void 0:l.length)return n(l);return r}))}(n),(null==s?void 0:s[r])??l}function p(n,e,t={label:"label",value:"value",children:"children"},l=""){const{label:r,value:o,children:i}=t,s=[];return function n(t,l=0){t.find((t=>{const u=t[i],a=t[o],f=t[r],c=a===e[l];return c&&(s.push(f),u&&n(u,++l)),c}))}(n),s.join(l)}export{p as a,h as b,d as c,a as d,u as e,c as g,f as h,s as i};
