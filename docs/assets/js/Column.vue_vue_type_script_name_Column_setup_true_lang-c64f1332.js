var e,o,t;import{c as l,m as s,l as n,k as r,R as a,p as u,e as i,s as p}from"./index-9d680563.js";import"./dayjs-21617033.js";import c from"./GroupBtns-dea23471.js";import d from"./UserInfo-9250dec5.js";import{d as y,o as m,P as v,M as f,T as k,bd as B,u as g,ad as h,c as _,Q as w,F as x,ai as C,a9 as b,U as V,V as $,W as j,J as I,a as R}from"./@vue-2b5461a3.js";import{_ as T}from"./BaseRender.vue_vue_type_script_setup_true_lang-4408752d.js";const G=y({__name:"CustomSpecialTableCols",props:{col:{},row:{}},setup:e=>(e,o)=>"UserInfo"===e.col.type?(m(),v(d,f({key:0,data:e.row[e.col.prop]},e.col.attrs),null,16,["data"])):k("",!0)}),O=y({name:"Column",__name:"Column",props:B({col:{},disabled:{type:Boolean},selection:{type:Boolean},refreshList:{type:Function},groupBtnsAttrs:{},getGroupBtnsOfRow:{type:Function}},Object.assign({},null==(t=null==(o=null==(e=l)?void 0:e.BaseCrud)?void 0:o._components)?void 0:t.Column)),emits:["groupBtn"],setup(e,{emit:o}){const t=e,l=o;let d;const y=(B=t.col,d=s(null==(O=B.extra)?void 0:O.popover),delete B.extra,B);var B,O;function A(e,o){return i.includes(e[o])?"-":e[o]}function F(e,o,t=0){const l=o.split(u),s=null==e?void 0:e[null==l?void 0:l[t]];return void 0===s?a("未联调"):i.includes(s)?"-":s}return(e,o)=>{var s;const i=C("el-table-column"),B=C("Column",!0),O=C("BaseIcon"),L=C("el-popover"),U=C("el-switch"),Q=C("BaseTag"),K=C("BaseImg"),S=C("BaseText"),z=C("BaseCopy");return g(y).type&&["index","selection"].includes(g(y).type)?(m(),v(i,h(f({key:0},g(y))),null,16)):(m(),_(x,{key:1},[(null==(s=g(y).children)?void 0:s.length)?(m(),v(i,f({key:0},g(n)(g(y),["children"]),{"reserve-selection":e.selection}),{default:w((()=>{var o;return[(m(!0),_(x,null,b(null==(o=g(y))?void 0:o.children,((o,t)=>(m(),v(B,{col:o,selection:e.selection,refreshList:e.refreshList,groupBtnsAttrs:e.groupBtnsAttrs,getGroupBtnsOfRow:e.getGroupBtnsOfRow,disabled:e.disabled,key:t},null,8,["col","selection","refreshList","groupBtnsAttrs","getGroupBtnsOfRow","disabled"])))),128))]})),_:1},16,["reserve-selection"])):(m(),_(x,{key:1},[g(y).formatter?(m(),v(i,f({key:0},g(y),{formatter:g(y).formatter,"reserve-selection":e.selection}),{header:w((({column:e,$index:o,store:t})=>[V($(e.label)+" ",1),g(d)?(m(),v(L,h(f({key:0},g(d))),{reference:w((()=>[j(O,{color:g(r).colorInfo,name:"QuestionFilled"},null,8,["color"])])),_:1},16)):k("",!0)])),_:1},16,["formatter","reserve-selection"])):(m(),v(i,f({key:1},g(y),{"reserve-selection":e.selection}),{header:w((({column:e,$index:o,store:t})=>[V($(e.label)+" ",1),g(d)?(m(),v(L,h(f({key:0},g(d))),{reference:w((()=>[j(O,{color:g(r).colorInfo,name:"QuestionFilled"},null,8,["color"])])),_:1},16)):k("",!0)])),default:w((({row:o,column:s,$index:r})=>{var i,d,k,B;return[g(y).type?"operate"===g(y).type?(m(),v(c,f({key:1,row:{...o,$index:r},btns:null==(i=e.getGroupBtnsOfRow)?void 0:i.call(e,o,r)},e.groupBtnsAttrs,{onClick:(e,t)=>function(e,{row:o,col:t,$index:s},n){l("groupBtn",e,{row:o,col:t,$index:s},n)}(e,{row:o,col:g(y),$index:r},t)}),null,16,["row","btns","onClick"])):"sort"===g(y).type?(m(),v(O,{key:2,name:"Sort",size:"1.2em"})):["id","remark"].includes(g(y).type)?(m(),_(x,{key:3},[V($((null==o?void 0:o[g(y).prop])||"-"),1)],64)):"custom"===g(y).type?I(e.$slots,"custom",h(f({key:4},{row:o,col:g(y),ind:r}))):["create","update"].includes(g(y).type)?(m(),_(x,{key:5},[(null==(d=g(y).prop)?void 0:d.includes(g(u)))?(m(),_(x,{key:0},[R("div",null,[j(T,{data:F(o,g(y).prop,0)},null,8,["data"])]),R("div",null,[j(T,{data:F(o,g(y).prop,1)},null,8,["data"])])],64)):(m(),_(x,{key:1},[V($((null==o?void 0:o[g(y).prop])||"-"),1)],64))],64)):"switch"===g(y).type?(m(),_(x,{key:6},[(null==(B=null==(k=g(y))?void 0:k.attrs)?void 0:B.fetch)?(m(),v(U,f({key:0,modelValue:o[g(y).prop]},g(n)(g(y).attrs,["onChange"]),{onChange:e=>function(e,o,l){const{attrs:s={}}=e,{fetch:n,idKeys:r=["id","id"],statusKey:a="status"}=s,u=(null==s?void 0:s.activeValue)===o[a]?"in":"";-1!==l&&(null==n||n({[r[0]]:o[r[1]],[a]:null==s?void 0:s[u+"activeValue"]}).then((()=>{var e;p(`${null==s?void 0:s[u+"activeText"]}成功`),null==(e=t.refreshList)||e.call(t)})))}(g(y),o,r)}),null,16,["modelValue","onChange"])):(m(),v(U,f({key:1,modelValue:o[g(y).prop],"onUpdate:modelValue":e=>o[g(y).prop]=e},g(y).attrs),null,16,["modelValue","onUpdate:modelValue"]))],64)):"BaseTag"===g(y).type?(m(),v(Q,f({key:7,value:o[g(y).prop]},g(y).attrs),null,16,["value"])):"BaseImg"===g(y).type?(m(),_(x,{key:8},[o[g(y).prop]?(m(),v(K,f({key:0,style:{margin:"0 auto"},src:o[g(y).prop]},g(y).attrs),null,16,["src"])):(m(),_(x,{key:1},[V("-")],64))],64)):"BaseText"===g(y).type?(m(),v(S,h(f({key:9},g(y).attrs)),{default:w((()=>[V($(o[g(y).prop]||"-"),1)])),_:2},1040)):"BaseCopy"===g(y).type?(m(),v(z,f({key:10,text:o[g(y).prop]},g(y).attrs),null,16,["text"])):(m(),v(G,{key:11,row:o,col:g(y)},null,8,["row","col"])):(m(),_(x,{key:0},[void 0===o[g(y).prop]?(m(),v(T,{key:0,data:g(a)("未联调")},null,8,["data"])):(m(),_(x,{key:1},[V($(A(o,g(y).prop)),1)],64))],64))]})),_:3},16,["reserve-selection"]))],64))],64))}}});export{O as _};
